<view class="container">
  <view class="status-box">
    <view bindtap="statusTap" class="status-label {{index == currentType ? 'active' : ''}}"
          wx:for-items="{{statusType}}" wx:key="{{index}}" data-index="{{index}}">
      <view class="label">{{item}}</view>
      <view class="{{tabClass[index]>0?'red-dot': ''}}"></view>
    </view>
  </view>
  <view class="no-order" hidden="{{orderList.length !== 0}}">
    <image src="/images/no-order.png" class="no-order-img"></image>
    <view class="text" wx:if="{{currentType === 0}}">暂无订单，去别处看看吧。</view>
    <view class="text" wx:if="{{currentType !== 0}}">暂无{{statusType[currentType]}}订单，切换全部看看吧～</view>
    <view bindtap="goBack" class="no-order-back">返回</view>
  </view>
  <view class="order-list" hidden="{{orderList.length === 0}}">
    <view class="a-order" wx:for-items="{{orderList}}" wx:key="{{index}}">
      <view class="order-number">
        <view class="order-number-label">订单号：{{item.orderNumber}}</view>
        <view class="order-status {{(item.status==-1 || item.status==4) ? '':'red'}}">{{item.statusStr}}</view>
      </view>
      <view class="goods-info" bindtap="orderDetail" data-id="{{item.id}}">
        <view class="goods-box" wx:for-items="{{goodsMap[item.id]}}" wx:key="{{index}}">
          <image src="{{item.pic}}" class="goods-img"></image>
          <view class="goods-right">
            <view class="goods-right-header">
              <view class="goods-name">{{item.goodsName}}</view>
              <view class="goods-price">￥{{item.amount}}</view>
            </view>
            <view class="goods-number">
              <view class="goods-number-left">x </view>
              <view>{{item.number}}</view>
            </view>
          </view>
        </view>
      </view>
      <view class="price-box">
        <view class="total-price">
          共
          <view class="total-number">{{item.goodsNumber}}</view>
          份
          <view class="white-space"></view>
          合计：
          <view class="price">
            <view class="price-unit">¥</view>
            {{item.amountReal}}
          </view>
        </view>
        <view class="order-action">
          <view class="btn cancel-btn" hidden="{{item.status==0? false : true}}" bindtap="cancelOrderTap"
                data-id="{{item.id}}">取消订单</view>
          <view class="btn topay-btn" hidden="{{item.status==0? false : true}}" bindtap="toPayTap" data-id="{{item.id}}"
                data-money="{{item.amountReal}}" data-score="{{item.score}}">立即支付</view>
        </view>
      </view>
    </view>

  </view>
</view>
