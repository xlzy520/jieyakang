<view class="container">
  <top-nav tabList="{{tabList}}" currentTab="{{currentTab}}" bindchange="changeCurrentTab"></top-nav>
  <view class="search" hidden="{{currentTab||!recordList.length}}">
    <picker mode="date" value="{{start}}" end="{{endDate}}"
            bindchange="bindDateChange" data-type="start">
      <view class="picker">
        <view class="placeholder" hidden="{{start}}">开始时间</view>
        <view class="picker-content" hidden="{{!start}}">{{start}}</view>
      </view>
    </picker>
    <view class="middle">至</view>
    <picker mode="date" value="{{end}}"  end="{{endDate}}"
            bindchange="bindDateChange" data-type="end">
      <view class="picker">
        <view class="placeholder" hidden="{{end}}">结束时间</view>
        <view class="picker-content" hidden="{{!end}}">{{end}}</view>
      </view>
    </picker>
    <view class="submit" bindtap="submit">查询</view>
    <view class="footer">
      <view class="add-address" bindtap="showAddProduce">添加生产数据</view>
    </view>
    <van-popup show="{{ show }}" bind:close="onClose" position="bottom">
      <view>
        <van-cell-group title="规格"></van-cell-group>
        <van-radio-group value="{{ typeIndex }}"  bind:change="onTypeChange">
          <van-cell-group>
            <van-cell
                wx:for="{{typeOptions}}"
                wx:for-item="type"
                wx:key="{{type}}"
                name="{{type}}"
                title="{{type}}"
                clickable
                data-name="{{type}}"
                bind:click="onTypeClick"
            >
              <van-radio slot="right-icon" name="{{type}}" />
            </van-cell>
          </van-cell-group>
        </van-radio-group>
        <van-cell-group title="数量">
          <van-field
              value="{{ produceCount }}"
              label="生产数量"
              type="number"
              placeholder="请输入生产数量"
              error="{{produceCount === ''}}"
              bind:change="onProduceCountChange"
          />
          <van-field
              value="{{ sendCount }}"
              type="number"
              label="出货数量"
              placeholder="请输入出货数量"
              error="{{sendCount === ''}}"
              bind:change="onSendCountChange"
          />
          <view class="submit-btn" >
            <van-button round type="info" block size="small" bind:tap="addProduce">提交</van-button>
          </view>
        </van-cell-group>

      </view>

    </van-popup>

  </view>
  <view class="no-record" wx:if="{{!recordList.length&&currentTab===0}}">
    <image src="/images/no-order.png"></image>
    <view class="no-content-text">暂无进销存记录</view>
    <view class="no-content-text">去选购一下餐具吧～</view>
  </view>
  <view class="record-content" hidden="{{currentTab}}">
    <view class="record-list">
      <view class="record-item header">
        <view class="record-item-header">
          <view class="goods-type">规格</view>
          <view class="number">生产数量</view>
          <view class="number">出货数量</view>
          <view class="number">填报人</view>
          <view class="date">保存日期</view>
        </view>
      </view>
      <view class="record-item" wx:for="{{recordList}}" wx:for-item="record" wx:key="{{record.inventoryId}}">
        <view class="record-item-header">
          <view class="goods-type">{{record.produceTypeText}}</view>
          <view class="number">{{record.produceCount}}</view>
          <view class="number">{{record.sendCount}}</view>
          <view class="number">{{record.reporterName}}</view>
          <view class="date">{{record.saveDate}}</view>
        </view>
        <view class="record-item-content">
          <view class="row" wx:for="{{record.inventoryDetailList}}" wx:for-item="row" :key="unique">
            <view class="left-title">{{row.inventoryName}}</view>
            <view class="item" wx:for="{{row.inventoryDetail}}" wx:for-item="detail" :key="unique">
              {{detail.tablewareName}}:{{detail.quantity}}</view>
          </view>
        </view>
      </view>
    </view>
    <view class="record-no-more" hidden="{{!noMore}}">没有更多了</view>
  </view>
  <view class="store-current" hidden="{{!currentTab}}">
    <van-cell-group>
      <van-cell wx:for="{{schoolList}}" title="{{item.schoolName}}" is-link bind:click="selectSchool" />
    </van-cell-group>
    <van-popup show="{{ show }}" bind:close="onClose">
      <image class="qr-code" src="data:image/png;base64,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"></image>
    </van-popup>

  </view>
</view>
